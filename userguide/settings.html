
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Configuration Reference &#8212; Faust 0.2.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="LiveCheck: End-to-end test for production/staging." href="livecheck.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration-reference">
<span id="guide-settings"></span><h1>Configuration Reference<a class="headerlink" href="#configuration-reference" title="Permalink to this heading">Â¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#required-settings" id="id1">Required Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#std-setting-id" id="id2"><code class="docutils literal notranslate"><span class="pre">id</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#commonly-used-settings" id="id3">Commonly Used Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#autodiscover" id="id4"><code class="docutils literal notranslate"><span class="pre">autodiscover</span></code></a></p></li>
<li><p><a class="reference internal" href="#datadir" id="id5"><code class="docutils literal notranslate"><span class="pre">datadir</span></code></a></p></li>
<li><p><a class="reference internal" href="#tabledir" id="id6"><code class="docutils literal notranslate"><span class="pre">tabledir</span></code></a></p></li>
<li><p><a class="reference internal" href="#debug" id="id7"><code class="docutils literal notranslate"><span class="pre">debug</span></code></a></p></li>
<li><p><a class="reference internal" href="#env-prefix" id="id8"><code class="docutils literal notranslate"><span class="pre">env_prefix</span></code></a></p></li>
<li><p><a class="reference internal" href="#std-setting-id_format" id="id9"><code class="docutils literal notranslate"><span class="pre">id_format</span></code></a></p></li>
<li><p><a class="reference internal" href="#origin" id="id10"><code class="docutils literal notranslate"><span class="pre">origin</span></code></a></p></li>
<li><p><a class="reference internal" href="#timezone" id="id11"><code class="docutils literal notranslate"><span class="pre">timezone</span></code></a></p></li>
<li><p><a class="reference internal" href="#version" id="id12"><code class="docutils literal notranslate"><span class="pre">version</span></code></a></p></li>
<li><p><a class="reference internal" href="#blocking-timeout" id="id13"><code class="docutils literal notranslate"><span class="pre">blocking_timeout</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker" id="id14"><code class="docutils literal notranslate"><span class="pre">broker</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-credentials" id="id15"><code class="docutils literal notranslate"><span class="pre">broker_credentials</span></code></a></p></li>
<li><p><a class="reference internal" href="#ssl-context" id="id16"><code class="docutils literal notranslate"><span class="pre">ssl_context</span></code></a></p></li>
<li><p><a class="reference internal" href="#logging-config" id="id17"><code class="docutils literal notranslate"><span class="pre">logging_config</span></code></a></p></li>
<li><p><a class="reference internal" href="#loghandlers" id="id18"><code class="docutils literal notranslate"><span class="pre">loghandlers</span></code></a></p></li>
<li><p><a class="reference internal" href="#processing-guarantee" id="id19"><code class="docutils literal notranslate"><span class="pre">processing_guarantee</span></code></a></p></li>
<li><p><a class="reference internal" href="#store" id="id20"><code class="docutils literal notranslate"><span class="pre">store</span></code></a></p></li>
<li><p><a class="reference internal" href="#cache" id="id21"><code class="docutils literal notranslate"><span class="pre">cache</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-agent-settings" id="id22">Advanced Agent Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#agent-supervisor" id="id23"><code class="docutils literal notranslate"><span class="pre">agent_supervisor</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-broker-settings" id="id24">Advanced Broker Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#broker-consumer" id="id25"><code class="docutils literal notranslate"><span class="pre">broker_consumer</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-producer" id="id26"><code class="docutils literal notranslate"><span class="pre">broker_producer</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-api-version" id="id27"><code class="docutils literal notranslate"><span class="pre">broker_api_version</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-check-crcs" id="id28"><code class="docutils literal notranslate"><span class="pre">broker_check_crcs</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-client-id" id="id29"><code class="docutils literal notranslate"><span class="pre">broker_client_id</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-commit-every" id="id30"><code class="docutils literal notranslate"><span class="pre">broker_commit_every</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-commit-interval" id="id31"><code class="docutils literal notranslate"><span class="pre">broker_commit_interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-commit-livelock-soft-timeout" id="id32"><code class="docutils literal notranslate"><span class="pre">broker_commit_livelock_soft_timeout</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-heartbeat-interval" id="id33"><code class="docutils literal notranslate"><span class="pre">broker_heartbeat_interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-max-poll-interval" id="id34"><code class="docutils literal notranslate"><span class="pre">broker_max_poll_interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-max-poll-records" id="id35"><code class="docutils literal notranslate"><span class="pre">broker_max_poll_records</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-rebalance-timeout" id="id36"><code class="docutils literal notranslate"><span class="pre">broker_rebalance_timeout</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-request-timeout" id="id37"><code class="docutils literal notranslate"><span class="pre">broker_request_timeout</span></code></a></p></li>
<li><p><a class="reference internal" href="#broker-session-timeout" id="id38"><code class="docutils literal notranslate"><span class="pre">broker_session_timeout</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-consumer-settings" id="id39">Advanced Consumer Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#consumer-api-version" id="id40"><code class="docutils literal notranslate"><span class="pre">consumer_api_version</span></code></a></p></li>
<li><p><a class="reference internal" href="#consumer-max-fetch-size" id="id41"><code class="docutils literal notranslate"><span class="pre">consumer_max_fetch_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#consumer-auto-offset-reset" id="id42"><code class="docutils literal notranslate"><span class="pre">consumer_auto_offset_reset</span></code></a></p></li>
<li><p><a class="reference internal" href="#consumer-group-instance-id" id="id43"><code class="docutils literal notranslate"><span class="pre">consumer_group_instance_id</span></code></a></p></li>
<li><p><a class="reference internal" href="#consumerscheduler" id="id44"><code class="docutils literal notranslate"><span class="pre">ConsumerScheduler</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#serialization-settings" id="id45">Serialization Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#key-serializer" id="id46"><code class="docutils literal notranslate"><span class="pre">key_serializer</span></code></a></p></li>
<li><p><a class="reference internal" href="#value-serializer" id="id47"><code class="docutils literal notranslate"><span class="pre">value_serializer</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-producer-settings" id="id48">Advanced Producer Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#producer-acks" id="id49"><code class="docutils literal notranslate"><span class="pre">producer_acks</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-api-version" id="id50"><code class="docutils literal notranslate"><span class="pre">producer_api_version</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-compression-type" id="id51"><code class="docutils literal notranslate"><span class="pre">producer_compression_type</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-linger" id="id52"><code class="docutils literal notranslate"><span class="pre">producer_linger</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-max-batch-size" id="id53"><code class="docutils literal notranslate"><span class="pre">producer_max_batch_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-max-request-size" id="id54"><code class="docutils literal notranslate"><span class="pre">producer_max_request_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-partitioner" id="id55"><code class="docutils literal notranslate"><span class="pre">producer_partitioner</span></code></a></p></li>
<li><p><a class="reference internal" href="#producer-request-timeout" id="id56"><code class="docutils literal notranslate"><span class="pre">producer_request_timeout</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#agent-rpc-settings" id="id57">Agent RPC Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#reply-create-topic" id="id58"><code class="docutils literal notranslate"><span class="pre">reply_create_topic</span></code></a></p></li>
<li><p><a class="reference internal" href="#reply-expires" id="id59"><code class="docutils literal notranslate"><span class="pre">reply_expires</span></code></a></p></li>
<li><p><a class="reference internal" href="#reply-to" id="id60"><code class="docutils literal notranslate"><span class="pre">reply_to</span></code></a></p></li>
<li><p><a class="reference internal" href="#reply-to-prefix" id="id61"><code class="docutils literal notranslate"><span class="pre">reply_to_prefix</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-stream-settings" id="id62">Advanced Stream Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#stream-buffer-maxsize" id="id63"><code class="docutils literal notranslate"><span class="pre">stream_buffer_maxsize</span></code></a></p></li>
<li><p><a class="reference internal" href="#stream-processing-timeout" id="id64"><code class="docutils literal notranslate"><span class="pre">stream_processing_timeout</span></code></a></p></li>
<li><p><a class="reference internal" href="#stream-publish-on-commit" id="id65"><code class="docutils literal notranslate"><span class="pre">stream_publish_on_commit</span></code></a></p></li>
<li><p><a class="reference internal" href="#stream-recovery-delay" id="id66"><code class="docutils literal notranslate"><span class="pre">stream_recovery_delay</span></code></a></p></li>
<li><p><a class="reference internal" href="#stream-wait-empty" id="id67"><code class="docutils literal notranslate"><span class="pre">stream_wait_empty</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-table-settings" id="id68">Advanced Table Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#table-cleanup-interval" id="id69"><code class="docutils literal notranslate"><span class="pre">table_cleanup_interval</span></code></a></p></li>
<li><p><a class="reference internal" href="#table-key-index-size" id="id70"><code class="docutils literal notranslate"><span class="pre">table_key_index_size</span></code></a></p></li>
<li><p><a class="reference internal" href="#table-standby-replicas" id="id71"><code class="docutils literal notranslate"><span class="pre">table_standby_replicas</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#topic-settings" id="id72">Topic Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#topic-allow-declare" id="id73"><code class="docutils literal notranslate"><span class="pre">topic_allow_declare</span></code></a></p></li>
<li><p><a class="reference internal" href="#topic-disable-leader" id="id74"><code class="docutils literal notranslate"><span class="pre">topic_disable_leader</span></code></a></p></li>
<li><p><a class="reference internal" href="#topic-partitions" id="id75"><code class="docutils literal notranslate"><span class="pre">topic_partitions</span></code></a></p></li>
<li><p><a class="reference internal" href="#topic-replication-factor" id="id76"><code class="docutils literal notranslate"><span class="pre">topic_replication_factor</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-web-server-settings" id="id77">Advanced Web Server Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#web" id="id78"><code class="docutils literal notranslate"><span class="pre">web</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-bind" id="id79"><code class="docutils literal notranslate"><span class="pre">web_bind</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-cors-options" id="id80"><code class="docutils literal notranslate"><span class="pre">web_cors_options</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-enabled" id="id81"><code class="docutils literal notranslate"><span class="pre">web_enabled</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-host" id="id82"><code class="docutils literal notranslate"><span class="pre">web_host</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-in-thread" id="id83"><code class="docutils literal notranslate"><span class="pre">web_in_thread</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-port" id="id84"><code class="docutils literal notranslate"><span class="pre">web_port</span></code></a></p></li>
<li><p><a class="reference internal" href="#web-transport" id="id85"><code class="docutils literal notranslate"><span class="pre">web_transport</span></code></a></p></li>
<li><p><a class="reference internal" href="#canonical-url" id="id86"><code class="docutils literal notranslate"><span class="pre">canonical_url</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#advanced-worker-settings" id="id87">Advanced Worker Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#worker-redirect-stdouts" id="id88"><code class="docutils literal notranslate"><span class="pre">worker_redirect_stdouts</span></code></a></p></li>
<li><p><a class="reference internal" href="#worker-redirect-stdouts-level" id="id89"><code class="docutils literal notranslate"><span class="pre">worker_redirect_stdouts_level</span></code></a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#extension-settings" id="id90">Extension Settings</a></p>
<ul>
<li><p><a class="reference internal" href="#agent" id="id91"><code class="docutils literal notranslate"><span class="pre">Agent</span></code></a></p></li>
<li><p><a class="reference internal" href="#event" id="id92"><code class="docutils literal notranslate"><span class="pre">Event</span></code></a></p></li>
<li><p><a class="reference internal" href="#schema" id="id93"><code class="docutils literal notranslate"><span class="pre">Schema</span></code></a></p></li>
<li><p><a class="reference internal" href="#stream" id="id94"><code class="docutils literal notranslate"><span class="pre">Stream</span></code></a></p></li>
<li><p><a class="reference internal" href="#table" id="id95"><code class="docutils literal notranslate"><span class="pre">Table</span></code></a></p></li>
<li><p><a class="reference internal" href="#settable" id="id96"><code class="docutils literal notranslate"><span class="pre">SetTable</span></code></a></p></li>
<li><p><a class="reference internal" href="#globaltable" id="id97"><code class="docutils literal notranslate"><span class="pre">GlobalTable</span></code></a></p></li>
<li><p><a class="reference internal" href="#setglobaltable" id="id98"><code class="docutils literal notranslate"><span class="pre">SetGlobalTable</span></code></a></p></li>
<li><p><a class="reference internal" href="#tablemanager" id="id99"><code class="docutils literal notranslate"><span class="pre">TableManager</span></code></a></p></li>
<li><p><a class="reference internal" href="#serializers" id="id100"><code class="docutils literal notranslate"><span class="pre">Serializers</span></code></a></p></li>
<li><p><a class="reference internal" href="#worker" id="id101"><code class="docutils literal notranslate"><span class="pre">Worker</span></code></a></p></li>
<li><p><a class="reference internal" href="#partitionassignor" id="id102"><code class="docutils literal notranslate"><span class="pre">PartitionAssignor</span></code></a></p></li>
<li><p><a class="reference internal" href="#leaderassignor" id="id103"><code class="docutils literal notranslate"><span class="pre">LeaderAssignor</span></code></a></p></li>
<li><p><a class="reference internal" href="#router" id="id104"><code class="docutils literal notranslate"><span class="pre">Router</span></code></a></p></li>
<li><p><a class="reference internal" href="#topic" id="id105"><code class="docutils literal notranslate"><span class="pre">Topic</span></code></a></p></li>
<li><p><a class="reference internal" href="#httpclient" id="id106"><code class="docutils literal notranslate"><span class="pre">HttpClient</span></code></a></p></li>
<li><p><a class="reference internal" href="#monitor" id="id107"><code class="docutils literal notranslate"><span class="pre">Monitor</span></code></a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="required-settings">
<span id="settings-required"></span><h2><a class="toc-backref" href="#id1" role="doc-backlink">Required Settings</a><a class="headerlink" href="#required-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="std-setting-id">
<span id="id"></span><h3><a class="toc-backref" href="#id2" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">id</span></code></a><a class="headerlink" href="#std-setting-id" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
<p>A string uniquely identifying the app, shared across all
instances such that two app instances with the same <cite>id</cite> are
considered to be in the same âgroupâ.</p>
<p>This parameter is required.</p>
<div class="admonition-the-id-and-kafka admonition">
<p class="admonition-title">The id and Kafka</p>
<p>When using Kafka, the id is used to generate app-local topics, and
names for consumer groups.</p>
</div>
</section>
</section>
<section id="commonly-used-settings">
<span id="settings-common"></span><h2><a class="toc-backref" href="#id3" role="doc-backlink">Commonly Used Settings</a><a class="headerlink" href="#commonly-used-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="autodiscover">
<span id="std-setting-autodiscover"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">autodiscover</span></code></a><a class="headerlink" href="#autodiscover" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
<p>Automatic discovery of agents, tasks, timers, views and commands.</p>
<p>Faust has an API to add different <a class="reference external" href="https://docs.python.org/dev/library/asyncio.html#module-asyncio" title="(in Python v3.12)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">asyncio</span></code></a> services and other
user extensions, such as âAgentsâ, HTTP web views,
command-line commands, and timers to your Faust workers.
These can be defined in any module, so to discover them at startup,
the worker needs to traverse packages looking for them.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The autodiscovery functionality uses the <a class="reference external" href="https://pypi.python.org/pypi/Venusian/">Venusian</a> library
to scan wanted packages for <code class="docutils literal notranslate"><span class="pre">&#64;app.agent</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;app.page</span></code>,
<code class="docutils literal notranslate"><span class="pre">&#64;app.command</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;app.task</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;app.timer</span></code> decorators,
but to do so, itâs required to traverse the package path and import
every module in it.</p>
<p>Importing random modules like this can be dangerous so make sure
you follow Python programming best practices. Do not start
threads; perform network I/O; do test monkey-patching for mocks or
similar, as a side effect of importing a module.  If you encounter
a case such as this then please find a way to perform your
action in a lazy manner.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the above warning is something you cannot fix, or if itâs out
of your control, then please set <code class="docutils literal notranslate"><span class="pre">autodiscover=False</span></code> and make
sure the worker imports all modules where your
decorators are defined.</p>
</div>
<p>The value for this argument can be:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">bool</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">App(autodiscover=True)</span></code> is set, the autodiscovery will
scan the package name described in the <code class="docutils literal notranslate"><span class="pre">origin</span></code> attribute.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">origin</span></code> attribute is automatically set when you start
a worker using the <strong class="program">faust</strong> command line program,
for example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">faust -A example.simple worker</span>
</pre></div>
</div>
<p>The <a class="reference internal" href="cli.html#cmdoption-faust-A"><code class="xref std std-option docutils literal notranslate"><span class="pre">-A</span></code></a>, option specifies the app, but you
can also create a shortcut entry point by calling <code class="docutils literal notranslate"><span class="pre">app.main()</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">app</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre></div>
</div>
<p>Then you can start the <strong class="program">faust</strong> program by executing for
example <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">myscript.py</span> <span class="pre">worker</span> <span class="pre">--loglevel=INFO</span></code>, and it
will use the correct application.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Sequence[str]</span></code></dt><dd><p>The argument can also be a list of packages to scan:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">autodiscover</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;proj_orders&#39;</span><span class="p">,</span> <span class="s1">&#39;proj_accounts&#39;</span><span class="p">])</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">Callable[[],</span> <span class="pre">Sequence[str]]</span></code></dt><dd><p>The argument can also be a function returning a list of packages
to scan:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_all_packages_to_scan</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;proj_orders&#39;</span><span class="p">,</span> <span class="s1">&#39;proj_accounts&#39;</span><span class="p">]</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">autodiscover</span><span class="o">=</span><span class="n">get_all_packages_to_scan</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">False</span></code></dt><dd><p>If everything you need is in a self-contained module, or you
import the stuff you need manually, just set <code class="docutils literal notranslate"><span class="pre">autodiscover</span></code>
to False and donât worry about it :-)</p>
</dd>
</dl>
<div class="admonition-django admonition">
<p class="admonition-title">Django</p>
<p>When using <a class="reference external" href="https://pypi.python.org/pypi/Django/">Django</a> and the <span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">DJANGO_SETTINGS_MODULE</span></code>
environment variable is set, the Faust app will scan all packages
found in the <code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code> setting.</p>
<p>If youâre using Django you can use this to scan for
agents/pages/commands in all packages
defined in <code class="docutils literal notranslate"><span class="pre">INSTALLED_APPS</span></code>.</p>
<p>Faust will automatically detect that youâre using Django
and do the right thing if you do:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">autodiscover</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>It will find agents and other decorators in all of the
reusable Django applications. If you want to manually control
what packages are traversed, then provide a list:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">autodiscover</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;package1&#39;</span><span class="p">,</span> <span class="s1">&#39;package2&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>or if you want exactly <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code> packages to be traversed,
then provide a False:</p>
<blockquote>
<div><p>app = App(.., autodiscover=False)</p>
</div></blockquote>
<p>which is the default, so you can simply omit the argument.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For manual control over autodiscovery, you can also call the
<a class="reference internal" href="../reference/faust.html#faust.App.discover" title="faust.App.discover"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app.discover()</span></code></a> method manually.</p>
</div>
</section>
<section id="datadir">
<span id="std-setting-datadir"></span><h3><a class="toc-backref" href="#id5" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">datadir</span></code></a><a class="headerlink" href="#datadir" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'{conf.name}-data'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_DATADIR</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">--data-dir</span></code></p>
</dd>
</dl>
<p>Application data directory.</p>
<p>The directory in which this instance stores the data used by
local tables, etc.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>The data directory can also be set using the
<a class="reference internal" href="cli.html#cmdoption-faust-datadir"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">--datadir</span></code></a> option, from the command-line,
so there is usually no reason to provide a default value
when creating the app.</p></li>
</ul>
</div>
</section>
<section id="tabledir">
<span id="std-setting-tabledir"></span><h3><a class="toc-backref" href="#id6" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">tabledir</span></code></a><a class="headerlink" href="#tabledir" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'tables'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_TABLEDIR</span></code></p>
</dd>
</dl>
<p>Application table data directory.</p>
<p>The directory in which this instance stores local table data.
Usually you will want to configure the <a class="reference internal" href="#std-setting-datadir"><code class="xref std std-setting docutils literal notranslate"><span class="pre">datadir</span></code></a> setting,
but if you want to store tables separately you can configure this one.</p>
<p>If the path provided is relative (it has no leading slash), then the
path will be considered to be relative to the <a class="reference internal" href="#std-setting-datadir"><code class="xref std std-setting docutils literal notranslate"><span class="pre">datadir</span></code></a>
setting.</p>
</section>
<section id="debug">
<span id="std-setting-debug"></span><h3><a class="toc-backref" href="#id7" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">debug</span></code></a><a class="headerlink" href="#debug" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-3"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_DEBUG</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cli.html#cmdoption-faust-debug"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">--debug</span></code></a></p>
</dd>
</dl>
<p>Use in development to expose sensor information endpoint.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to enable the sensor statistics endpoint in production,
without enabling the <a class="reference internal" href="#std-setting-debug"><code class="xref std std-setting docutils literal notranslate"><span class="pre">debug</span></code></a> setting, you can do so
by adding the following code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">web</span><span class="o">.</span><span class="n">blueprints</span><span class="o">.</span><span class="n">add</span><span class="p">(</span>
    <span class="s1">&#39;/stats/&#39;</span><span class="p">,</span> <span class="s1">&#39;faust.web.apps.stats:blueprint&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="env-prefix">
<span id="std-setting-env_prefix"></span><h3><a class="toc-backref" href="#id8" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">env_prefix</span></code></a><a class="headerlink" href="#env-prefix" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.11.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-4"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_ENV_PREFIX</span></code></p>
</dd>
</dl>
<p>Environment variable prefix.</p>
<p>When configuring Faust by environent variables,
this adds a common prefix to all Faust environment value names.</p>
</section>
<section id="std-setting-id_format">
<span id="id-format"></span><h3><a class="toc-backref" href="#id9" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">id_format</span></code></a><a class="headerlink" href="#std-setting-id_format" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'{id}-v{self.version}'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-5"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_ID_FORMAT</span></code></p>
</dd>
</dl>
<p>Application ID format template.</p>
<p>The format string used to generate the final <a class="reference internal" href="#std-setting-id"><code class="xref std std-setting docutils literal notranslate"><span class="pre">id</span></code></a> value
by combining it with the <a class="reference internal" href="#std-setting-version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">version</span></code></a> parameter.</p>
</section>
<section id="origin">
<span id="std-setting-origin"></span><h3><a class="toc-backref" href="#id10" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">origin</span></code></a><a class="headerlink" href="#origin" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>The reverse path used to find the app.</p>
<p>For example if the app is located in:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">myproj.app</span> <span class="k">import</span> <span class="n">app</span>
</pre></div>
</div>
<p>Then the <code class="docutils literal notranslate"><span class="pre">origin</span></code> should be <code class="docutils literal notranslate"><span class="pre">&quot;myproj.app&quot;</span></code>.</p>
<p>The <strong class="program">faust worker</strong> program will try to automatically set
the origin, but if you are having problems with auto generated names
then you can set origin manually.</p>
</section>
<section id="timezone">
<span id="std-setting-timezone"></span><h3><a class="toc-backref" href="#id11" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">timezone</span></code></a><a class="headerlink" href="#timezone" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.tzinfo" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tzinfo</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">datetime.timezone.utc</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-6"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TIMEZONE</span></code></p>
</dd>
</dl>
<p>Project timezone.</p>
<p>The timezone used for date-related functionality such as cronjobs.</p>
</section>
<section id="version">
<span id="std-setting-version"></span><h3><a class="toc-backref" href="#id12" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">version</span></code></a><a class="headerlink" href="#version" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-7"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_VERSION</span></code></p>
</dd>
</dl>
<p>App version.</p>
<p>Version of the app, that when changed will create a new isolated
instance of the application. The first version is 1,
the second version is 2, and so on.</p>
<div class="admonition-source-topics-will-not-be-affected-by-a-version-change admonition">
<p class="admonition-title">Source topics will not be affected by a version change.</p>
<p>Faust applications will use two kinds of topics: source topics, and
internally managed topics. The source topics are declared by the
producer, and we do not have the opportunity to modify any
configuration settings, like number of partitions for a source
topic; we may only consume from them. To mark a topic as internal,
use: <code class="docutils literal notranslate"><span class="pre">app.topic(...,</span> <span class="pre">internal=True)</span></code>.</p>
</div>
</section>
<section id="blocking-timeout">
<span id="std-setting-blocking_timeout"></span><h3><a class="toc-backref" href="#id13" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">blocking_timeout</span></code></a><a class="headerlink" href="#blocking-timeout" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-8"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BLOCKING_TIMEOUT</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">--blocking-timeout</span></code></p>
</dd>
</dl>
<p>Blocking timeout (in seconds).</p>
<p>When specified the worker will start a periodic signal based
timer that only triggers when the loop has been blocked
for a time exceeding this timeout.</p>
<p>This is the most safe way to detect blocking, but could have
adverse effects on libraries that do not automatically
retry interrupted system calls.</p>
<p>Python itself does retry all interrupted system calls
since version 3.5 (see <span class="target" id="index-9"></span><a class="pep reference external" href="https://peps.python.org/pep-0475/"><strong>PEP 475</strong></a>), but this might not
be the case with C extensions added to the worker by the user.</p>
<p>The blocking detector is a background thread
that periodically wakes up to either arm a timer, or cancel
an already armed timer. In pseudocode:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="c1"># cancel previous alarm and arm new alarm</span>
    <span class="n">signal</span><span class="o">.</span><span class="n">signal</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">SIGALRM</span><span class="p">,</span> <span class="n">on_alarm</span><span class="p">)</span>
    <span class="n">signal</span><span class="o">.</span><span class="n">setitimer</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">ITIMER_REAL</span><span class="p">,</span> <span class="n">blocking_timeout</span><span class="p">)</span>
    <span class="c1"># sleep to wakeup just before the timeout</span>
    <span class="n">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">blocking_timeout</span> <span class="o">*</span> <span class="mf">0.96</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_alarm</span><span class="p">(</span><span class="n">signum</span><span class="p">,</span> <span class="n">frame</span><span class="p">):</span>
    <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;Blocking detected: ...&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If the sleep does not wake up in time the alarm signal
will be sent to the process and a traceback will be logged.</p>
</section>
<section id="broker">
<span id="std-setting-broker"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker</span></code></a><a class="headerlink" href="#broker" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> / <code class="docutils literal notranslate"><span class="pre">[</span></code> <a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-10"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_URL</span></code></p>
</dd>
</dl>
<p>Broker URL, or a list of alternative broker URLs.</p>
<p>Faust needs the URL of a âtransportâ to send and receive messages.</p>
<p>Currently, the only supported production transport is <code class="docutils literal notranslate"><span class="pre">kafka://</span></code>.
This uses the <a class="reference external" href="https://pypi.python.org/pypi/aiokafka/">aiokafka</a> client under the hood, for consuming and
producing messages.</p>
<p>You can specify multiple hosts at the same time by separating them
using the semi-comma:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>kafka://kafka1.example.com:9092;kafka2.example.com:9092
</pre></div>
</div>
<p>Which in actual code looks like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BROKERS</span> <span class="o">=</span> <span class="s1">&#39;kafka://kafka1.example.com:9092;kafka2.example.com:9092&#39;</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="n">broker</span><span class="o">=</span><span class="n">BROKERS</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You can also pass a list of URLs:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="s1">&#39;id&#39;</span><span class="p">,</span>
    <span class="n">broker</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;kafka://kafka1.example.com:9092&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kafka://kafka2.example.com:9092&#39;</span><span class="p">],</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>You can configure the transport used for consuming and producing
separately, by setting the <a class="reference internal" href="#std-setting-broker_consumer"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_consumer</span></code></a> and
<a class="reference internal" href="#std-setting-broker_producer"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_producer</span></code></a> settings.</p>
<p>This setting is used as the default.</p>
</div>
<p><strong>Available Transports</strong></p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">kafka://</span></code></p>
<blockquote>
<div><p>Alias to <code class="docutils literal notranslate"><span class="pre">aiokafka://</span></code></p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">aiokafka://</span></code></p>
<blockquote>
<div><p>The recommended transport using the <a class="reference external" href="https://pypi.python.org/pypi/aiokafka/">aiokafka</a> client.</p>
<p>Limitations: None</p>
</div></blockquote>
</li>
</ul>
</section>
<section id="broker-credentials">
<span id="std-setting-broker_credentials"></span><h3><a class="toc-backref" href="#id15" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_credentials</span></code></a><a class="headerlink" href="#broker-credentials" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../reference/faust.types.auth.html#faust.types.auth.CredentialsT" title="faust.types.auth.CredentialsT"><code class="xref py py-class docutils literal notranslate"><span class="pre">CredentialsT</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-11"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_CREDENTIALS</span></code></p>
</dd>
</dl>
<p>Broker authentication mechanism.</p>
<p>Specify the authentication mechanism to use when connecting to
the broker.</p>
<p>The default is to not use any authentication.</p>
<dl>
<dt>SASL Authentication</dt><dd><p>You can enable SASL authentication via plain text:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="n">broker_credentials</span><span class="o">=</span><span class="n">faust</span><span class="o">.</span><span class="n">SASLCredentials</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span>
    <span class="p">))</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not use literal strings when specifying passwords in
production, as they can remain visible in stack traces.</p>
<p>Instead the best practice is to get the password from
a configuration file, or from the environment:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BROKER_USERNAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;BROKER_USERNAME&#39;</span><span class="p">)</span>
<span class="n">BROKER_PASSWORD</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;BROKER_PASSWORD&#39;</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="n">broker_credentials</span><span class="o">=</span><span class="n">faust</span><span class="o">.</span><span class="n">SASLCredentials</span><span class="p">(</span>
        <span class="n">username</span><span class="o">=</span><span class="n">BROKER_USERNAME</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">BROKER_PASSWORD</span><span class="p">,</span>
    <span class="p">))</span>
</pre></div>
</div>
</div>
</dd>
<dt>GSSAPI Authentication</dt><dd><p>GSSAPI authentication over plain text:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="n">broker_credentials</span><span class="o">=</span><span class="n">faust</span><span class="o">.</span><span class="n">GSSAPICredentials</span><span class="p">(</span>
        <span class="n">kerberos_service_name</span><span class="o">=</span><span class="s1">&#39;faust&#39;</span><span class="p">,</span>
        <span class="n">kerberos_domain_name</span><span class="o">=</span><span class="s1">&#39;example.com&#39;</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
<p>GSSAPI authentication over SSL:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ssl</span>
<span class="n">ssl_context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">(</span>
    <span class="n">purpose</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">Purpose</span><span class="o">.</span><span class="n">SERVER_AUTH</span><span class="p">,</span> <span class="n">cafile</span><span class="o">=</span><span class="s1">&#39;ca.pem&#39;</span><span class="p">)</span>
<span class="n">ssl_context</span><span class="o">.</span><span class="n">load_cert_chain</span><span class="p">(</span>
    <span class="s1">&#39;client.cert&#39;</span><span class="p">,</span> <span class="n">keyfile</span><span class="o">=</span><span class="s1">&#39;client.key&#39;</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span>
    <span class="n">broker_credentials</span><span class="o">=</span><span class="n">faust</span><span class="o">.</span><span class="n">GSSAPICredentials</span><span class="p">(</span>
        <span class="n">kerberos_service_name</span><span class="o">=</span><span class="s1">&#39;faust&#39;</span><span class="p">,</span>
        <span class="n">kerberos_domain_name</span><span class="o">=</span><span class="s1">&#39;example.com&#39;</span><span class="p">,</span>
        <span class="n">ssl_context</span><span class="o">=</span><span class="n">ssl_context</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>SSL Authentication</dt><dd><p>Provide an SSL context for the Kafka broker connections.</p>
<p>This allows Faust to use a secure SSL/TLS connection for the
Kafka connections and enabling certificate-based authentication.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ssl</span>

<span class="n">ssl_context</span> <span class="o">=</span> <span class="n">ssl</span><span class="o">.</span><span class="n">create_default_context</span><span class="p">(</span>
    <span class="n">purpose</span><span class="o">=</span><span class="n">ssl</span><span class="o">.</span><span class="n">Purpose</span><span class="o">.</span><span class="n">SERVER_AUTH</span><span class="p">,</span> <span class="n">cafile</span><span class="o">=</span><span class="s1">&#39;ca.pem&#39;</span><span class="p">)</span>
<span class="n">ssl_context</span><span class="o">.</span><span class="n">load_cert_chain</span><span class="p">(</span>
    <span class="s1">&#39;client.cert&#39;</span><span class="p">,</span> <span class="n">keyfile</span><span class="o">=</span><span class="s1">&#39;client.key&#39;</span><span class="p">)</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">broker_credentials</span><span class="o">=</span><span class="n">ssl_context</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</section>
<section id="ssl-context">
<span id="std-setting-ssl_context"></span><h3><a class="toc-backref" href="#id16" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">ssl_context</span></code></a><a class="headerlink" href="#ssl-context" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/ssl.html#ssl.SSLContext" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">SSLContext</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>SSL configuration.</p>
<p>See <code class="xref std std-setting docutils literal notranslate"><span class="pre">credentials</span></code>.</p>
</section>
<section id="logging-config">
<span id="std-setting-logging_config"></span><h3><a class="toc-backref" href="#id17" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">logging_config</span></code></a><a class="headerlink" href="#logging-config" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>Logging dictionary configuration.</p>
<p>Optional dictionary for logging configuration, as supported
by <a class="reference external" href="https://docs.python.org/dev/library/logging.config.html#logging.config.dictConfig" title="(in Python v3.12)"><code class="xref py py-func docutils literal notranslate"><span class="pre">logging.config.dictConfig()</span></code></a>.</p>
</section>
<section id="loghandlers">
<span id="std-setting-loghandlers"></span><h3><a class="toc-backref" href="#id18" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">loghandlers</span></code></a><a class="headerlink" href="#loghandlers" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">[</span></code> <a class="reference external" href="https://docs.python.org/dev/library/logging.html#logging.Handler" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handler</span></code></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>List of custom logging handlers.</p>
<p>Specify a list of custom log handlers to use in worker instances.</p>
</section>
<section id="processing-guarantee">
<span id="std-setting-processing_guarantee"></span><h3><a class="toc-backref" href="#id19" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">processing_guarantee</span></code></a><a class="headerlink" href="#processing-guarantee" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">&lt;ProcessingGuarantee.AT_LEAST_ONCE:</span> <span class="pre">'at_least_once'&gt;</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-12"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PROCESSING_GUARANTEE</span></code></p>
</dd>
</dl>
<p>The processing guarantee that should be used.</p>
<p>Possible values are âat_least_onceâ (default) and âexactly_onceâ.</p>
<p>Note that if exactly-once processing is enabled consumers are
configured with <code class="docutils literal notranslate"><span class="pre">isolation.level=&quot;read_committed&quot;</span></code> and producers
are configured with <code class="docutils literal notranslate"><span class="pre">retries=Integer.MAX_VALUE</span></code> and
<code class="docutils literal notranslate"><span class="pre">enable.idempotence=true</span></code> per default.</p>
<p>Note that by default exactly-once processing requires a cluster of
at least three brokers what is the recommended setting for production.
For development you can change this, by adjusting broker setting
<code class="docutils literal notranslate"><span class="pre">transaction.state.log.replication.factor</span></code> to the number of brokers
you want to use.</p>
</section>
<section id="store">
<span id="std-setting-store"></span><h3><a class="toc-backref" href="#id20" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">store</span></code></a><a class="headerlink" href="#store" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'memory://'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-13"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_STORE</span></code></p>
</dd>
</dl>
<p>Table storage backend URL.</p>
<p>The backend used for table storage.</p>
<p>Tables are stored in-memory by default, but you should
not use the <code class="docutils literal notranslate"><span class="pre">memory://</span></code> store in production.</p>
<p>In production, a persistent table store, such as <code class="docutils literal notranslate"><span class="pre">rocksdb://</span></code> is
preferred.</p>
</section>
<section id="cache">
<span id="std-setting-cache"></span><h3><a class="toc-backref" href="#id21" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">cache</span></code></a><a class="headerlink" href="#cache" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'memory://'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-14"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CACHE_URL</span></code></p>
</dd>
</dl>
<p>Cache backend URL.</p>
<p>Optional backend used for Memcached-style caching.
URL can be:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">redis://host</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rediscluster://host</span></code>, or</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory://</span></code>.</p></li>
</ul>
</section>
</section>
<section id="advanced-agent-settings">
<span id="settings-agent"></span><h2><a class="toc-backref" href="#id22" role="doc-backlink">Advanced Agent Settings</a><a class="headerlink" href="#advanced-agent-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="agent-supervisor">
<span id="std-setting-agent_supervisor"></span><h3><a class="toc-backref" href="#id23" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">agent_supervisor</span></code></a><a class="headerlink" href="#agent-supervisor" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'mode.OneForOneSupervisor'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-15"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">AGENT_SUPERVISOR</span></code></p>
</dd>
</dl>
<p>Default agent supervisor type.</p>
<p>An agent may start multiple instances (actors) when
the concurrency setting is higher than one (e.g.
<code class="docutils literal notranslate"><span class="pre">&#64;app.agent(concurrency=2)</span></code>).</p>
<p>Multiple instances of the same agent are considered to be in the same
supervisor group.</p>
<p>The default supervisor is the <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.OneForOneSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.OneForOneSupervisor</span></code></a>:
if an instance in the group crashes, we restart that instance only.</p>
<p>These are the supervisors supported:</p>
<ul>
<li><p><a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.OneForOneSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.OneForOneSupervisor</span></code></a></p>
<blockquote>
<div><p>If an instance in the group crashes we restart only that instance.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.OneForAllSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.OneForAllSupervisor</span></code></a></p>
<blockquote>
<div><p>If an instance in the group crashes we restart the whole group.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.CrashingSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.CrashingSupervisor</span></code></a></p>
<blockquote>
<div><p>If an instance in the group crashes we stop the whole application,
and exit so that the Operating System supervisor can restart us.</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.ForfeitOneForOneSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.ForfeitOneForOneSupervisor</span></code></a></p>
<blockquote>
<div><p>If an instance in the group crashes we give up on that instance
and never restart it again (until the program is restarted).</p>
</div></blockquote>
</li>
<li><p><a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.html#mode.ForfeitOneForAllSupervisor" title="(in Mode v4.3)"><code class="xref py py-class docutils literal notranslate"><span class="pre">mode.ForfeitOneForAllSupervisor</span></code></a></p>
<blockquote>
<div><p>If an instance in the group crashes we stop all instances
in the group and never restarted them again (until the program is
restarted).</p>
</div></blockquote>
</li>
</ul>
</section>
</section>
<section id="advanced-broker-settings">
<span id="settings-broker"></span><h2><a class="toc-backref" href="#id24" role="doc-backlink">Advanced Broker Settings</a><a class="headerlink" href="#advanced-broker-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="broker-consumer">
<span id="std-setting-broker_consumer"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_consumer</span></code></a><a class="headerlink" href="#broker-consumer" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.7.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> / <code class="docutils literal notranslate"><span class="pre">[</span></code> <a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
</dd>
<dt class="field-even">default (alias to setting)<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#std-setting-broker"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker</span></code></a></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-16"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_CONSUMER_URL</span></code></p>
</dd>
</dl>
<p>Consumer broker URL.</p>
<p>You can use this setting to configure the transport used for
producing and consuming separately.</p>
<p>If not set the value found in <a class="reference internal" href="#std-setting-broker"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker</span></code></a> will be used.</p>
</section>
<section id="broker-producer">
<span id="std-setting-broker_producer"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_producer</span></code></a><a class="headerlink" href="#broker-producer" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.7.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a> / <code class="docutils literal notranslate"><span class="pre">[</span></code> <a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> <code class="docutils literal notranslate"><span class="pre">]</span></code></p>
</dd>
<dt class="field-even">default (alias to setting)<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#std-setting-broker"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker</span></code></a></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-17"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_PRODUCER_URL</span></code></p>
</dd>
</dl>
<p>Producer broker URL.</p>
<p>You can use this setting to configure the transport used for
producing and consuming separately.</p>
<p>If not set the value found in <a class="reference internal" href="#std-setting-broker"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker</span></code></a> will be used.</p>
</section>
<section id="broker-api-version">
<span id="std-setting-broker_api_version"></span><h3><a class="toc-backref" href="#id27" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_api_version</span></code></a><a class="headerlink" href="#broker-api-version" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.10.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'auto'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-18"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_API_VERSION</span></code></p>
</dd>
</dl>
<p>Broker API version,.</p>
<p>This setting is also the default for <a class="reference internal" href="#std-setting-consumer_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">consumer_api_version</span></code></a>,
and <a class="reference internal" href="#std-setting-producer_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">producer_api_version</span></code></a>.</p>
<p>Negotiate producer protocol version.</p>
<p>The default value - âautoâ means use the latest version supported
by both client and server.</p>
<p>Any other version set means you are requesting a specific version of
the protocol.</p>
<p>Example Kafka uses:</p>
<p><strong>Disable sending headers for all messages produced</strong></p>
<p>Kafka headers support was added in Kafka 0.11, so you can specify
<code class="docutils literal notranslate"><span class="pre">broker_api_version=&quot;0.10&quot;</span></code> to remove the headers from messages.</p>
</section>
<section id="broker-check-crcs">
<span id="std-setting-broker_check_crcs"></span><h3><a class="toc-backref" href="#id28" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_check_crcs</span></code></a><a class="headerlink" href="#broker-check-crcs" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-19"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_CHECK_CRCS</span></code></p>
</dd>
</dl>
<p>Broker CRC check.</p>
<p>Automatically check the CRC32 of the records consumed.</p>
</section>
<section id="broker-client-id">
<span id="std-setting-broker_client_id"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_client_id</span></code></a><a class="headerlink" href="#broker-client-id" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust-1.11.0a1'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-20"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_CLIENT_ID</span></code></p>
</dd>
</dl>
<p>Broker client ID.</p>
<p>There is rarely any reason to configure this setting.</p>
<p>The client id is used to identify the software used, and is not usually
configured by the user.</p>
</section>
<section id="broker-commit-every">
<span id="std-setting-broker_commit_every"></span><h3><a class="toc-backref" href="#id30" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_commit_every</span></code></a><a class="headerlink" href="#broker-commit-every" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-21"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_COMMIT_EVERY</span></code></p>
</dd>
</dl>
<p>Broker commit message frequency.</p>
<p>Commit offset every n messages.</p>
<p>See also <a class="reference internal" href="#std-setting-broker_commit_interval"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_commit_interval</span></code></a>, which is how frequently
we commit on a timer when there are few messages being received.</p>
</section>
<section id="broker-commit-interval">
<span id="std-setting-broker_commit_interval"></span><h3><a class="toc-backref" href="#id31" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_commit_interval</span></code></a><a class="headerlink" href="#broker-commit-interval" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">2.8</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-22"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_COMMIT_INTERVAL</span></code></p>
</dd>
</dl>
<p>Broker commit time frequency.</p>
<p>How often we commit messages that have been
fully processed (<a class="reference internal" href="../glossary.html#term-acked"><span class="xref std std-term">acked</span></a>).</p>
</section>
<section id="broker-commit-livelock-soft-timeout">
<span id="std-setting-broker_commit_livelock_soft_timeout"></span><h3><a class="toc-backref" href="#id32" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_commit_livelock_soft_timeout</span></code></a><a class="headerlink" href="#broker-commit-livelock-soft-timeout" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">300.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-23"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_COMMIT_LIVELOCK_SOFT_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Commit livelock timeout.</p>
<p>How long time it takes before we warn that the Kafka commit offset has
not advanced (only when processing messages).</p>
</section>
<section id="broker-heartbeat-interval">
<span id="std-setting-broker_heartbeat_interval"></span><h3><a class="toc-backref" href="#id33" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_heartbeat_interval</span></code></a><a class="headerlink" href="#broker-heartbeat-interval" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.11.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">3.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-24"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_HEARTBEAT_INTERVAL</span></code></p>
</dd>
</dl>
<p>Broker heartbeat interval.</p>
<p>How often we send heartbeats to the broker, and also how often
we expect to receive heartbeats from the broker.</p>
<p>If any of these time out, you should increase this setting.</p>
</section>
<section id="broker-max-poll-interval">
<span id="std-setting-broker_max_poll_interval"></span><h3><a class="toc-backref" href="#id34" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_max_poll_interval</span></code></a><a class="headerlink" href="#broker-max-poll-interval" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.7.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-25"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_MAX_POLL_INTERVAL</span></code></p>
</dd>
</dl>
<p>Broker max poll interval.</p>
<p>The maximum allowed time (in seconds) between calls to consume messages
If this interval is exceeded the consumer
is considered failed and the group will rebalance in order to reassign
the partitions to another consumer group member. If API methods block
waiting for messages, that time does not count against this timeout.</p>
<p>See <a class="reference external" href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-62%3A+Allow+consumer+to+send+heartbeats+from+a+background+thread">KIP-62</a> for technical details.</p>
</section>
<section id="broker-max-poll-records">
<span id="std-setting-broker_max_poll_records"></span><h3><a class="toc-backref" href="#id35" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_max_poll_records</span></code></a><a class="headerlink" href="#broker-max-poll-records" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-26"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_MAX_POLL_RECORDS</span></code></p>
</dd>
</dl>
<p>Broker max poll records.</p>
<p>The maximum number of records returned in a single call to <code class="docutils literal notranslate"><span class="pre">poll()</span></code>.
If you find that your application needs more time to process
messages you may want to adjust <a class="reference internal" href="#std-setting-broker_max_poll_records"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_max_poll_records</span></code></a>
to tune the number of records that must be handled on every
loop iteration.</p>
</section>
<section id="broker-rebalance-timeout">
<span id="std-setting-broker_rebalance_timeout"></span><h3><a class="toc-backref" href="#id36" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_rebalance_timeout</span></code></a><a class="headerlink" href="#broker-rebalance-timeout" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.10.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">60.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-27"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_REBALANCE_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Broker rebalance timeout.</p>
<p>How long to wait for a node to finish rebalancing before the broker
will consider it dysfunctional and remove it from the cluster.</p>
<p>Increase this if you experience the cluster being in a state of
constantly rebalancing, but make sure you also increase the
<a class="reference internal" href="#std-setting-broker_heartbeat_interval"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_heartbeat_interval</span></code></a> at the same time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The session timeout must not be greater than the
<a class="reference internal" href="#std-setting-broker_request_timeout"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_request_timeout</span></code></a>.</p>
</div>
</section>
<section id="broker-request-timeout">
<span id="std-setting-broker_request_timeout"></span><h3><a class="toc-backref" href="#id37" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_request_timeout</span></code></a><a class="headerlink" href="#broker-request-timeout" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">90.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-28"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_REQUEST_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Kafka client request timeout.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The request timeout must not be less than the
<a class="reference internal" href="#std-setting-broker_session_timeout"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_session_timeout</span></code></a>.</p>
</div>
</section>
<section id="broker-session-timeout">
<span id="std-setting-broker_session_timeout"></span><h3><a class="toc-backref" href="#id38" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">broker_session_timeout</span></code></a><a class="headerlink" href="#broker-session-timeout" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.11.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">60.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-29"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">BROKER_SESSION_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Broker session timeout.</p>
<p>How long to wait for a node to finish rebalancing before the broker
will consider it dysfunctional and remove it from the cluster.</p>
<p>Increase this if you experience the cluster being in a state of
constantly rebalancing, but make sure you also increase the
<a class="reference internal" href="#std-setting-broker_heartbeat_interval"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_heartbeat_interval</span></code></a> at the same time.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The session timeout must not be greater than the
<a class="reference internal" href="#std-setting-broker_request_timeout"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_request_timeout</span></code></a>.</p>
</div>
</section>
</section>
<section id="advanced-consumer-settings">
<span id="settings-consumer"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">Advanced Consumer Settings</a><a class="headerlink" href="#advanced-consumer-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="consumer-api-version">
<span id="std-setting-consumer_api_version"></span><h3><a class="toc-backref" href="#id40" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">consumer_api_version</span></code></a><a class="headerlink" href="#consumer-api-version" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.10.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default (alias to setting)<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#std-setting-broker_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_api_version</span></code></a></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-30"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CONSUMER_API_VERSION</span></code></p>
</dd>
</dl>
<p>Consumer API version.</p>
<p>Configures the broker API version to use for consumers.
See <a class="reference internal" href="#std-setting-broker_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_api_version</span></code></a> for more information.</p>
</section>
<section id="consumer-max-fetch-size">
<span id="std-setting-consumer_max_fetch_size"></span><h3><a class="toc-backref" href="#id41" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">consumer_max_fetch_size</span></code></a><a class="headerlink" href="#consumer-max-fetch-size" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1048576</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-31"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CONSUMER_MAX_FETCH_SIZE</span></code></p>
</dd>
</dl>
<p>Consumer max fetch size.</p>
<p>The maximum amount of data per-partition the server will return.
This size must be at least as large as the maximum message size.</p>
<p>Note: This is PER PARTITION, so a limit of 1Mb when your
workers consume from 10 topics having 100 partitions each,
means a fetch request can be up to a gigabyte (10 * 100 * 1Mb),
This limit being too generous may cause
rebalancing issues: if the amount of time required
to flush pending data stuck in socket buffers exceed
the rebalancing timeout.</p>
<p>You must keep this limit low enough to account
for many partitions being assigned to a single node.</p>
</section>
<section id="consumer-auto-offset-reset">
<span id="std-setting-consumer_auto_offset_reset"></span><h3><a class="toc-backref" href="#id42" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">consumer_auto_offset_reset</span></code></a><a class="headerlink" href="#consumer-auto-offset-reset" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'earliest'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-32"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CONSUMER_AUTO_OFFSET_RESET</span></code></p>
</dd>
</dl>
<p>Consumer auto offset reset.</p>
<p>Where the consumer should start reading messages from when
there is no initial offset, or the stored offset no longer
exists, e.g. when starting a new consumer for the first time.</p>
<p>Options include âearliestâ, âlatestâ, ânoneâ.</p>
</section>
<section id="consumer-group-instance-id">
<span id="std-setting-consumer_group_instance_id"></span><h3><a class="toc-backref" href="#id43" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">consumer_group_instance_id</span></code></a><a class="headerlink" href="#consumer-group-instance-id" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.1.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-33"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">CONSUMER_GROUP_INSTANCE_ID</span></code></p>
</dd>
</dl>
<p>Consumer group instance id.</p>
<p>The group_instance_id for static partition assignment.</p>
<p>If not set, default assignment strategy is used. Otherwise,
each consumer instance has to have a unique id.</p>
</section>
<section id="consumerscheduler">
<span id="std-setting-ConsumerScheduler"></span><h3><a class="toc-backref" href="#id44" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">ConsumerScheduler</span></code></a><a class="headerlink" href="#consumerscheduler" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.transport.utils:DefaultSchedulingStrategy'</span></code></p>
</dd>
</dl>
<p>Consumer scheduler class.</p>
<p>A strategy which dictates the priority of topics and
partitions for incoming records.
The default strategy does first round-robin over topics and then
round-robin over partitions.</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MySchedulingStrategy</span><span class="p">(</span><span class="n">DefaultSchedulingStrategy</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">ConsumerScheduler</span><span class="o">=</span><span class="n">MySchedulingStrategy</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">ConsumerScheduler</span><span class="o">=</span><span class="s1">&#39;myproj.MySchedulingStrategy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="serialization-settings">
<span id="settings-serialization"></span><h2><a class="toc-backref" href="#id45" role="doc-backlink">Serialization Settings</a><a class="headerlink" href="#serialization-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="key-serializer">
<span id="std-setting-key_serializer"></span><h3><a class="toc-backref" href="#id46" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">key_serializer</span></code></a><a class="headerlink" href="#key-serializer" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference internal" href="../reference/faust.types.codecs.html#faust.types.codecs.CodecT" title="faust.types.codecs.CodecT"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodecT</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'raw'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-34"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_KEY_SERIALIZER</span></code></p>
</dd>
</dl>
<p>Default key serializer.</p>
<p>Serializer used for keys by default when no serializer
is specified, or a model is not being used.</p>
<p>This can be the name of a serializer/codec, or an actual
<a class="reference internal" href="../reference/faust.serializers.codecs.html#faust.serializers.codecs.Codec" title="faust.serializers.codecs.Codec"><code class="xref py py-class docutils literal notranslate"><span class="pre">faust.serializers.codecs.Codec</span></code></a> instance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="models.html#codecs"><span class="std std-ref">Codecs</span></a> section in the model guide â for
more information about codecs.</p></li>
</ul>
</div>
</section>
<section id="value-serializer">
<span id="std-setting-value_serializer"></span><h3><a class="toc-backref" href="#id47" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">value_serializer</span></code></a><a class="headerlink" href="#value-serializer" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference internal" href="../reference/faust.types.codecs.html#faust.types.codecs.CodecT" title="faust.types.codecs.CodecT"><code class="xref py py-class docutils literal notranslate"><span class="pre">CodecT</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'json'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-35"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_VALUE_SERIALIZER</span></code></p>
</dd>
</dl>
<p>Default value serializer.</p>
<p>Serializer used for values by default when no serializer
is specified, or a model is not being used.</p>
<p>This can be string, the name of a serializer/codec, or an actual
<a class="reference internal" href="../reference/faust.serializers.codecs.html#faust.serializers.codecs.Codec" title="faust.serializers.codecs.Codec"><code class="xref py py-class docutils literal notranslate"><span class="pre">faust.serializers.codecs.Codec</span></code></a> instance.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="models.html#codecs"><span class="std std-ref">Codecs</span></a> section in the model guide â for
more information about codecs.</p></li>
</ul>
</div>
</section>
</section>
<section id="advanced-producer-settings">
<span id="settings-producer"></span><h2><a class="toc-backref" href="#id48" role="doc-backlink">Advanced Producer Settings</a><a class="headerlink" href="#advanced-producer-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="producer-acks">
<span id="std-setting-producer_acks"></span><h3><a class="toc-backref" href="#id49" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_acks</span></code></a><a class="headerlink" href="#producer-acks" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-36"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_ACKS</span></code></p>
</dd>
</dl>
<p>Producer Acks.</p>
<p>The number of acknowledgments the producer requires the leader to have
received before considering a request complete. This controls the
durability of records that are sent. The following settings are common:</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">0</span></code>: Producer will not wait for any acknowledgment from</dt><dd><p>the server at all. The message will immediately be
considered sent (Not recommended).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">1</span></code>: The broker leader will write the record to its local</dt><dd><p>log but will respond without awaiting full acknowledgment
from all followers. In this case should the leader fail
immediately after acknowledging the record but before the
followers have replicated it then the record will be lost.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">-1</span></code>: The broker leader will wait for the full set of in-sync</dt><dd><p>replicas to acknowledge the record. This guarantees that
the record will not be lost as long as at least one in-sync
replica remains alive. This is the strongest
available guarantee.</p>
</dd>
</dl>
</li>
</ul>
</section>
<section id="producer-api-version">
<span id="std-setting-producer_api_version"></span><h3><a class="toc-backref" href="#id50" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_api_version</span></code></a><a class="headerlink" href="#producer-api-version" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.3.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default (alias to setting)<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#std-setting-broker_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_api_version</span></code></a></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-37"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_API_VERSION</span></code></p>
</dd>
</dl>
<p>Producer API version.</p>
<p>Configures the broker API version to use for producers.
See <a class="reference internal" href="#std-setting-broker_api_version"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_api_version</span></code></a> for more information.</p>
</section>
<section id="producer-compression-type">
<span id="std-setting-producer_compression_type"></span><h3><a class="toc-backref" href="#id51" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_compression_type</span></code></a><a class="headerlink" href="#producer-compression-type" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-38"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_COMPRESSION_TYPE</span></code></p>
</dd>
</dl>
<p>Producer compression type.</p>
<p>The compression type for all data generated by the producer.
Valid values are <cite>gzip</cite>, <cite>snappy</cite>, <cite>lz4</cite>, or <code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code>.</p>
</section>
<section id="producer-linger">
<span id="std-setting-producer_linger"></span><h3><a class="toc-backref" href="#id52" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_linger</span></code></a><a class="headerlink" href="#producer-linger" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-39"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_LINGER</span></code></p>
</dd>
</dl>
<p>Producer batch linger configuration.</p>
<p>Minimum time to batch before sending out messages from the producer.</p>
<p>Should rarely have to change this.</p>
</section>
<section id="producer-max-batch-size">
<span id="std-setting-producer_max_batch_size"></span><h3><a class="toc-backref" href="#id53" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_max_batch_size</span></code></a><a class="headerlink" href="#producer-max-batch-size" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">16384</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-40"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_MAX_BATCH_SIZE</span></code></p>
</dd>
</dl>
<p>Producer max batch size.</p>
<p>Max size of each producer batch, in bytes.</p>
</section>
<section id="producer-max-request-size">
<span id="std-setting-producer_max_request_size"></span><h3><a class="toc-backref" href="#id54" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_max_request_size</span></code></a><a class="headerlink" href="#producer-max-request-size" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000000</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-41"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_MAX_REQUEST_SIZE</span></code></p>
</dd>
</dl>
<p>Producer maximum request size.</p>
<p>Maximum size of a request in bytes in the producer.</p>
<p>Should rarely have to change this.</p>
</section>
<section id="producer-partitioner">
<span id="std-setting-producer_partitioner"></span><h3><a class="toc-backref" href="#id55" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_partitioner</span></code></a><a class="headerlink" href="#producer-partitioner" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>Producer partitioning strategy.</p>
<p>The Kafka producer can be configured with a custom partitioner
to change how keys are partitioned when producing to topics.</p>
<p>The default partitioner for Kafka is implemented as follows,
and can be used as a template for your own partitioner:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span>
<span class="kn">from</span> <span class="nn">kafka.partitioner.hashed</span> <span class="kn">import</span> <span class="n">murmur2</span>

<span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="n">key</span><span class="p">:</span> <span class="nb">bytes</span><span class="p">,</span>
            <span class="n">all_partitions</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
            <span class="n">available</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&#39;&#39;&#39;Default partitioner.</span>

<span class="sd">    Hashes key to partition using murmur2 hashing</span>
<span class="sd">    (from java client) If key is None, selects partition</span>
<span class="sd">    randomly from available, or from all partitions if none</span>
<span class="sd">    are currently available</span>

<span class="sd">    Arguments:</span>
<span class="sd">        key: partitioning key</span>
<span class="sd">        all_partitions: list of all partitions sorted by</span>
<span class="sd">                        partition ID.</span>
<span class="sd">        available: list of available partitions</span>
<span class="sd">                   in no particular order</span>
<span class="sd">    Returns:</span>
<span class="sd">        int: one of the values from ``all_partitions``</span>
<span class="sd">             or ``available``.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">key</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">source</span> <span class="o">=</span> <span class="n">available</span> <span class="k">if</span> <span class="n">available</span> <span class="k">else</span> <span class="n">all_paritions</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
    <span class="n">index</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="n">murmur2</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
    <span class="n">index</span> <span class="o">&amp;=</span> <span class="mh">0x7fffffff</span>
    <span class="n">index</span> <span class="o">%=</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_partitions</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">all_partitions</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="producer-request-timeout">
<span id="std-setting-producer_request_timeout"></span><h3><a class="toc-backref" href="#id56" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">producer_request_timeout</span></code></a><a class="headerlink" href="#producer-request-timeout" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1200.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-42"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">PRODUCER_REQUEST_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Producer request timeout.</p>
<p>Timeout for producer operations.
This is set high by default, as this is also the time when
producer batches expire and will no longer be retried.</p>
</section>
</section>
<section id="agent-rpc-settings">
<span id="settings-rpc"></span><h2><a class="toc-backref" href="#id57" role="doc-backlink">Agent RPC Settings</a><a class="headerlink" href="#agent-rpc-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="reply-create-topic">
<span id="std-setting-reply_create_topic"></span><h3><a class="toc-backref" href="#id58" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">reply_create_topic</span></code></a><a class="headerlink" href="#reply-create-topic" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-43"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_REPLY_CREATE_TOPIC</span></code></p>
</dd>
</dl>
<p>Automatically create reply topics.</p>
<p>Set this to <code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code> if you plan on using the RPC with agents.</p>
<p>This will create the internal topic used for RPC replies on that
instance at startup.</p>
</section>
<section id="reply-expires">
<span id="std-setting-reply_expires"></span><h3><a class="toc-backref" href="#id59" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">reply_expires</span></code></a><a class="headerlink" href="#reply-expires" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">86400.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-44"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_REPLY_EXPIRES</span></code></p>
</dd>
</dl>
<p>RPC reply expiry time in seconds.</p>
<p>The expiry time (in seconds <a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a>,
or <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a>), for how long replies will stay
in the instances local reply topic before being removed.</p>
</section>
<section id="reply-to">
<span id="std-setting-reply_to"></span><h3><a class="toc-backref" href="#id60" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">reply_to</span></code></a><a class="headerlink" href="#reply-to" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>Reply to address.</p>
<p>The name of the reply topic used by this instance.
If not set one will be automatically generated when the app
is created.</p>
</section>
<section id="reply-to-prefix">
<span id="std-setting-reply_to_prefix"></span><h3><a class="toc-backref" href="#id61" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">reply_to_prefix</span></code></a><a class="headerlink" href="#reply-to-prefix" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'f-reply-'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-45"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_REPLY_TO_PREFIX</span></code></p>
</dd>
</dl>
<p>Reply address topic name prefix.</p>
<p>The prefix used when generating reply topic names.</p>
</section>
</section>
<section id="advanced-stream-settings">
<span id="setting-stream"></span><h2><a class="toc-backref" href="#id62" role="doc-backlink">Advanced Stream Settings</a><a class="headerlink" href="#advanced-stream-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="stream-buffer-maxsize">
<span id="std-setting-stream_buffer_maxsize"></span><h3><a class="toc-backref" href="#id63" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">stream_buffer_maxsize</span></code></a><a class="headerlink" href="#stream-buffer-maxsize" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">4096</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-46"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">STREAM_BUFFER_MAXSIZE</span></code></p>
</dd>
</dl>
<p>Stream buffer maximum size.</p>
<p>This setting control back pressure to streams and agents reading
from streams.</p>
<p>If set to 4096 (default) this means that an agent can only keep
at most 4096 unprocessed items in the stream buffer.</p>
<p>Essentially this will limit the number of messages a stream
can âprefetchâ.</p>
<p>Higher numbers gives better throughput, but do note that if
your agent sends messages or update tables (which
sends changelog messages).</p>
<p>This means that if the buffer size is large, the
<a class="reference internal" href="#std-setting-broker_commit_interval"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_commit_interval</span></code></a> or <a class="reference internal" href="#std-setting-broker_commit_every"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_commit_every</span></code></a>
settings must be set to commit frequently, avoiding back pressure
from building up.</p>
<p>A buffer size of 131_072 may let you process over 30,000 events
a second as a baseline, but be careful with a buffer size that large
when you also send messages or update tables.</p>
</section>
<section id="stream-processing-timeout">
<span id="std-setting-stream_processing_timeout"></span><h3><a class="toc-backref" href="#id64" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">stream_processing_timeout</span></code></a><a class="headerlink" href="#stream-processing-timeout" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.10.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">300.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-47"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">STREAM_PROCESSING_TIMEOUT</span></code></p>
</dd>
</dl>
<p>Stream processing timeout.</p>
<p>Timeout (in seconds) for processing events in the stream.
If processing of a single event exceeds this time we log an error,
but do not stop processing.</p>
<p>If you are seeing a warning like this you should either</p>
<ol class="arabic simple">
<li><p>increase this timeout to allow agents to spend more time
on a single event, or</p></li>
<li><p>add a timeout to the operation in the agent, so stream processing
always completes before the timeout.</p></li>
</ol>
<p>The latter is preferred for network operations such as web requests.
If a network service you depend on is temporarily offline you should
consider doing retries (send to separate topic):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">main_topic</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">topic</span><span class="p">(</span><span class="s1">&#39;main&#39;</span><span class="p">)</span>
<span class="n">deadletter_topic</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">topic</span><span class="p">(</span><span class="s1">&#39;main_deadletter&#39;</span><span class="p">)</span>

<span class="n">async</span> <span class="k">def</span> <span class="nf">send_request</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">timeout</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">await</span> <span class="n">app</span><span class="o">.</span><span class="n">http_client</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;http://foo.com&#39;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

<span class="nd">@app.agent</span><span class="p">(</span><span class="n">main_topic</span><span class="p">)</span>
<span class="n">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
    <span class="n">async</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">await</span> <span class="n">send_request</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">TimeoutError</span><span class="p">:</span>
        <span class="n">await</span> <span class="n">deadletter_topic</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="nd">@app.agent</span><span class="p">(</span><span class="n">deadletter_topic</span><span class="p">)</span>
    <span class="n">async</span> <span class="k">def</span> <span class="nf">main_deadletter</span><span class="p">(</span><span class="n">stream</span><span class="p">):</span>
        <span class="n">async</span> <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">stream</span><span class="p">:</span>
        <span class="c1"># wait for 30 seconds before retrying.</span>
        <span class="n">await</span> <span class="n">stream</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
        <span class="n">await</span> <span class="n">send_request</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="stream-publish-on-commit">
<span id="std-setting-stream_publish_on_commit"></span><h3><a class="toc-backref" href="#id65" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">stream_publish_on_commit</span></code></a><a class="headerlink" href="#stream-publish-on-commit" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
<p>Stream delay producing until commit time.</p>
<p>If enabled we buffer up sending messages until the
source topic offset related to that processing is committed.
This means when we do commit, we may have buffered up a LOT of messages
so commit needs to happen frequently (make sure to decrease
<a class="reference internal" href="#std-setting-broker_commit_every"><code class="xref std std-setting docutils literal notranslate"><span class="pre">broker_commit_every</span></code></a>).</p>
</section>
<section id="stream-recovery-delay">
<span id="std-setting-stream_recovery_delay"></span><h3><a class="toc-backref" href="#id66" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">stream_recovery_delay</span></code></a><a class="headerlink" href="#stream-recovery-delay" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.3.</span></p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.5.3: </span>Disabled by default.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">0.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-48"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">STREAM_RECOVERY_DELAY</span></code></p>
</dd>
</dl>
<p>Stream recovery delayl</p>
<p>Number of seconds to sleep before continuing after rebalance.
We wait for a bit to allow for more nodes to join/leave before
starting recovery tables and then processing streams. This to minimize
the chance of errors rebalancing loops.</p>
</section>
<section id="stream-wait-empty">
<span id="std-setting-stream_wait_empty"></span><h3><a class="toc-backref" href="#id67" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">stream_wait_empty</span></code></a><a class="headerlink" href="#stream-wait-empty" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-49"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">STREAM_WAIT_EMPTY</span></code></p>
</dd>
</dl>
<p>Stream wait empty.</p>
<p>This setting controls whether the worker should wait for the
currently processing task in an agent to complete before
rebalancing or shutting down.</p>
<p>On rebalance/shut down we clear the stream buffers. Those events
will be reprocessed after the rebalance anyway, but we may have
already started processing one event in every agent, and if we
rebalance we will process that event again.</p>
<p>By default we will wait for the currently active tasks, but if your
streams are idempotent you can disable it using this setting.</p>
</section>
</section>
<section id="advanced-table-settings">
<span id="settings-table"></span><h2><a class="toc-backref" href="#id68" role="doc-backlink">Advanced Table Settings</a><a class="headerlink" href="#advanced-table-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="table-cleanup-interval">
<span id="std-setting-table_cleanup_interval"></span><h3><a class="toc-backref" href="#id69" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">table_cleanup_interval</span></code></a><a class="headerlink" href="#table-cleanup-interval" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#float" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">30.0</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-50"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TABLE_CLEANUP_INTERVAL</span></code></p>
</dd>
</dl>
<p>Table cleanup interval.</p>
<p>How often we cleanup tables to remove expired entries.</p>
</section>
<section id="table-key-index-size">
<span id="std-setting-table_key_index_size"></span><h3><a class="toc-backref" href="#id70" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">table_key_index_size</span></code></a><a class="headerlink" href="#table-key-index-size" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.7.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-51"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TABLE_KEY_INDEX_SIZE</span></code></p>
</dd>
</dl>
<p>Table key index size.</p>
<p>Tables keep a cache of key to partition number to speed up
table lookups.</p>
<p>This setting configures the maximum size of that cache.</p>
</section>
<section id="table-standby-replicas">
<span id="std-setting-table_standby_replicas"></span><h3><a class="toc-backref" href="#id71" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">table_standby_replicas</span></code></a><a class="headerlink" href="#table-standby-replicas" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-52"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TABLE_STANDBY_REPLICAS</span></code></p>
</dd>
</dl>
<p>Table standby replicas.</p>
<p>The number of standby replicas for each table.</p>
</section>
</section>
<section id="topic-settings">
<span id="settings-topic"></span><h2><a class="toc-backref" href="#id72" role="doc-backlink">Topic Settings</a><a class="headerlink" href="#topic-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="topic-allow-declare">
<span id="std-setting-topic_allow_declare"></span><h3><a class="toc-backref" href="#id73" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">topic_allow_declare</span></code></a><a class="headerlink" href="#topic-allow-declare" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-53"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TOPIC_ALLOW_DECLARE</span></code></p>
</dd>
</dl>
<p>Allow creating new topics.</p>
<p>This setting disables the creation of internal topics.</p>
<p>Faust will only create topics that it considers to be fully
owned and managed, such as intermediate repartition topics,
table changelog topics etc.</p>
<p>Some Kafka managers does not allow services to create topics,
in that case you should set this to <code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code>.</p>
</section>
<section id="topic-disable-leader">
<span id="std-setting-topic_disable_leader"></span><h3><a class="toc-backref" href="#id74" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">topic_disable_leader</span></code></a><a class="headerlink" href="#topic-disable-leader" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.7.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-54"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TOPIC_DISABLE_LEADER</span></code></p>
</dd>
</dl>
<p>Disable leader election topic.</p>
<p>This setting disables the creation of the leader election topic.</p>
<p>If youâre not using the <code class="docutils literal notranslate"><span class="pre">on_leader=True</span></code> argument to task/timer/etc.,
decorators then use this setting to disable creation of the topic.</p>
</section>
<section id="topic-partitions">
<span id="std-setting-topic_partitions"></span><h3><a class="toc-backref" href="#id75" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">topic_partitions</span></code></a><a class="headerlink" href="#topic-partitions" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">8</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-55"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TOPIC_PARTITIONS</span></code></p>
</dd>
</dl>
<p>Topic partitions.</p>
<p>Default number of partitions for new topics.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This defines the maximum number of workers we could distribute the
workload of the application (also sometimes referred as the
sharding factor of the application).</p>
</div>
</section>
<section id="topic-replication-factor">
<span id="std-setting-topic_replication_factor"></span><h3><a class="toc-backref" href="#id76" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">topic_replication_factor</span></code></a><a class="headerlink" href="#topic-replication-factor" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-56"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">TOPIC_REPLICATION_FACTOR</span></code></p>
</dd>
</dl>
<p>Topic replication factor.</p>
<p>The default replication factor for topics created by the application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Generally this should be the same as the configured
replication factor for your Kafka cluster.</p>
</div>
</section>
</section>
<section id="advanced-web-server-settings">
<span id="setting-web"></span><h2><a class="toc-backref" href="#id77" role="doc-backlink">Advanced Web Server Settings</a><a class="headerlink" href="#advanced-web-server-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="web">
<span id="std-setting-web"></span><h3><a class="toc-backref" href="#id78" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web</span></code></a><a class="headerlink" href="#web" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'aiohttp://'</span></code></p>
</dd>
</dl>
<p>Web server driver to use.</p>
</section>
<section id="web-bind">
<span id="std-setting-web_bind"></span><h3><a class="toc-backref" href="#id79" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_bind</span></code></a><a class="headerlink" href="#web-bind" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'0.0.0.0'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-57"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">WEB_BIND</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cli.html#cmdoption-faust-worker-web-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-bind</span></code></a></p>
</dd>
</dl>
<p>Web network interface binding mask.</p>
<p>The IP network address mask that decides what interfaces
the web server will bind to.</p>
<p>By default this will bind to all interfaces.</p>
<p>This option is usually set by <a class="reference internal" href="cli.html#cmdoption-faust-worker-web-bind"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-bind</span></code></a>,
not by passing it as a keyword argument to <a class="reference internal" href="../reference/faust.app.html#module-faust.app" title="faust.app"><code class="xref py py-class docutils literal notranslate"><span class="pre">app</span></code></a>.</p>
</section>
<section id="web-cors-options">
<span id="std-setting-web_cors_options"></span><h3><a class="toc-backref" href="#id80" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_cors_options</span></code></a><a class="headerlink" href="#web-cors-options" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#dict" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
<p>Cross Origin Resource Sharing options.</p>
<p>Enable <a class="reference external" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS">Cross-Origin Resource Sharing</a> options for all web views
in the internal web server.</p>
<p>This should be specified as a dictionary of
URLs to <code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceOptions</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">web_cors_options</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;http://foo.example.com&#39;</span><span class="p">:</span> <span class="n">ResourceOptions</span><span class="p">(</span>
        <span class="n">allow_credentials</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
        <span class="n">allow_methods</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="n">k</span><span class="p">,</span>
    <span class="p">)</span>
<span class="p">})</span>
</pre></div>
</div>
<p>Individual views may override the CORS options used as
arguments to to <code class="docutils literal notranslate"><span class="pre">&#64;app.page</span></code> and <code class="docutils literal notranslate"><span class="pre">blueprint.route</span></code>.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference external" href="https://pypi.python.org/pypi/aiohttp_cors/">aiohttp_cors</a>: <a class="reference external" href="https://github.com/aio-libs/aiohttp-cors">https://github.com/aio-libs/aiohttp-cors</a></p>
</div>
</section>
<section id="web-enabled">
<span id="std-setting-web_enabled"></span><h3><a class="toc-backref" href="#id81" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_enabled</span></code></a><a class="headerlink" href="#web-enabled" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-58"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">APP_WEB_ENABLED</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--with-web</span></code></p>
</dd>
</dl>
<p>Enable/disable internal web server.</p>
<p>Enable web server and other web components.</p>
<p>This option can also be set using <a class="reference internal" href="cli.html#cmdoption-faust-worker-without-web"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--without-web</span></code></a>.</p>
</section>
<section id="web-host">
<span id="std-setting-web_host"></span><h3><a class="toc-backref" href="#id82" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_host</span></code></a><a class="headerlink" href="#web-host" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
<dt class="field-even">default (template)<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'{conf.NODE_HOSTNAME}'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-59"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">WEB_HOST</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cli.html#cmdoption-faust-worker-web-host"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-host</span></code></a></p>
</dd>
</dl>
<p>Web server host name.</p>
<p>Hostname used to access this web server, used for generating
the <a class="reference internal" href="#std-setting-canonical_url"><code class="xref std std-setting docutils literal notranslate"><span class="pre">canonical_url</span></code></a> setting.</p>
<p>This option is usually set by <a class="reference internal" href="cli.html#cmdoption-faust-worker-web-host"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-host</span></code></a>,
not by passing it as a keyword argument to <a class="reference internal" href="../reference/faust.app.html#module-faust.app" title="faust.app"><code class="xref py py-class docutils literal notranslate"><span class="pre">app</span></code></a>.</p>
</section>
<section id="web-in-thread">
<span id="std-setting-web_in_thread"></span><h3><a class="toc-backref" href="#id83" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_in_thread</span></code></a><a class="headerlink" href="#web-in-thread" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.5.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">False</span></code></p>
</dd>
</dl>
<p>Run the web server in a separate thread.</p>
<p>Use this if you have a large value for
<a class="reference internal" href="#std-setting-stream_buffer_maxsize"><code class="xref std std-setting docutils literal notranslate"><span class="pre">stream_buffer_maxsize</span></code></a> and want the web server
to be responsive when the worker is otherwise busy processing streams.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Running the web server in a separate thread means web views
and agents will not share the same event loop.</p>
</div>
</section>
<section id="web-port">
<span id="std-setting-web_port"></span><h3><a class="toc-backref" href="#id84" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_port</span></code></a><a class="headerlink" href="#web-port" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">6066</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-60"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">WEB_PORT</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cli.html#cmdoption-faust-worker-web-port"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-port</span></code></a></p>
</dd>
</dl>
<p>Web server port.</p>
<p>A port number between 1024 and 65535 to use for the web server.</p>
<p>This option is usually set by <a class="reference internal" href="cli.html#cmdoption-faust-worker-web-port"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-port</span></code></a>,
not by passing it as a keyword argument to <a class="reference internal" href="../reference/faust.app.html#module-faust.app" title="faust.app"><code class="xref py py-class docutils literal notranslate"><span class="pre">app</span></code></a>.</p>
</section>
<section id="web-transport">
<span id="std-setting-web_transport"></span><h3><a class="toc-backref" href="#id85" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">web_transport</span></code></a><a class="headerlink" href="#web-transport" title="Permalink to this heading">Â¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.2.</span></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">URL('tcp:')</span></code></p>
</dd>
<dt class="field-odd">related-command-options<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-transport</span></code></p>
</dd>
</dl>
<p>Network transport used for the web server.</p>
<p>Default is to use TCP, but this setting also enables you to use
Unix domainN sockets.  To use domain sockets specify an URL including
the path to the file you want to create like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>unix:///tmp/server.sock
</pre></div>
</div>
<p>This will create a new domain socket available
in <code class="file docutils literal notranslate"><span class="pre">/tmp/server.sock</span></code>.</p>
</section>
<section id="canonical-url">
<span id="std-setting-canonical_url"></span><h3><a class="toc-backref" href="#id86" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">canonical_url</span></code></a><a class="headerlink" href="#canonical-url" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://yarl.readthedocs.io/en/latest/api.html#yarl.URL" title="(in yarl v1.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">URL</span></code></a></p>
</dd>
<dt class="field-even">default (template)<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'http://{conf.web_host}:{conf.web_port}'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-61"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">NODE_CANONICAL_URL</span></code></p>
</dd>
<dt class="field-even">related-command-options<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="cli.html#cmdoption-faust-worker-web-host"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-host</span></code></a>, <a class="reference internal" href="cli.html#cmdoption-faust-worker-web-port"><code class="xref std std-option docutils literal notranslate"><span class="pre">faust</span> <span class="pre">worker</span> <span class="pre">--web-port</span></code></a></p>
</dd>
<dt class="field-odd">related-settings<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#std-setting-web_host"><code class="xref std std-setting docutils literal notranslate"><span class="pre">web_host</span></code></a>, <a class="reference internal" href="#std-setting-web_port"><code class="xref std std-setting docutils literal notranslate"><span class="pre">web_port</span></code></a></p>
</dd>
</dl>
<p>Node specific canonical URL.</p>
<p>You shouldnât have to set this manually.</p>
<p>The canonical URL defines how to reach the web server on a running
worker node, and is usually set by combining the
<a class="reference internal" href="#std-setting-web_host"><code class="xref std std-setting docutils literal notranslate"><span class="pre">web_host</span></code></a> and <a class="reference internal" href="#std-setting-web_port"><code class="xref std std-setting docutils literal notranslate"><span class="pre">web_port</span></code></a> settings.</p>
</section>
</section>
<section id="advanced-worker-settings">
<span id="settings-worker"></span><h2><a class="toc-backref" href="#id87" role="doc-backlink">Advanced Worker Settings</a><a class="headerlink" href="#advanced-worker-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="worker-redirect-stdouts">
<span id="std-setting-worker_redirect_stdouts"></span><h3><a class="toc-backref" href="#id88" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">worker_redirect_stdouts</span></code></a><a class="headerlink" href="#worker-redirect-stdouts" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/functions.html#bool" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-const docutils literal notranslate"><span class="pre">True</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-62"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">WORKER_REDIRECT_STDOUTS</span></code></p>
</dd>
</dl>
<p>Redirecting standard outputs.</p>
<p>Enable to have the worker redirect output to <a class="reference external" href="https://docs.python.org/dev/library/sys.html#sys.stdout" title="(in Python v3.12)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stdout</span></code></a> and
<a class="reference external" href="https://docs.python.org/dev/library/sys.html#sys.stderr" title="(in Python v3.12)"><code class="xref py py-data docutils literal notranslate"><span class="pre">sys.stderr</span></code></a> to the Python logging system.</p>
<p>Enabled by default.</p>
</section>
<section id="worker-redirect-stdouts-level">
<span id="std-setting-worker_redirect_stdouts_level"></span><h3><a class="toc-backref" href="#id89" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">worker_redirect_stdouts_level</span></code></a><a class="headerlink" href="#worker-redirect-stdouts-level" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'WARN'</span></code></p>
</dd>
<dt class="field-odd">environment<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="target" id="index-63"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">WORKER_REDIRECT_STDOUTS_LEVEL</span></code></p>
</dd>
</dl>
<p>Level used when redirecting standard outputs.</p>
<p>The logging level to use when redirect STDOUT/STDERR to logging.</p>
</section>
</section>
<section id="extension-settings">
<span id="settings-extending"></span><h2><a class="toc-backref" href="#id90" role="doc-backlink">Extension Settings</a><a class="headerlink" href="#extension-settings" title="Permalink to this heading">Â¶</a></h2>
<section id="agent">
<span id="std-setting-Agent"></span><h3><a class="toc-backref" href="#id91" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Agent</span></code></a><a class="headerlink" href="#agent" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Agent'</span></code></p>
</dd>
</dl>
<p>Agent class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Agent" title="faust.Agent"><code class="xref py py-class docutils literal notranslate"><span class="pre">Agent</span></code></a> class to use for agents, or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyAgent</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Agent</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Agent</span><span class="o">=</span><span class="n">MyAgent</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Agent</span><span class="o">=</span><span class="s1">&#39;myproj.agents.Agent&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="event">
<span id="std-setting-Event"></span><h3><a class="toc-backref" href="#id92" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Event</span></code></a><a class="headerlink" href="#event" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Event'</span></code></p>
</dd>
</dl>
<p>Event class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Event" title="faust.Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a> class to use for creating new event objects,
or the fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseEvent</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Event</span><span class="o">=</span><span class="n">MyBaseEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Event</span><span class="o">=</span><span class="s1">&#39;myproj.events.Event&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="schema">
<span id="std-setting-Schema"></span><h3><a class="toc-backref" href="#id93" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Schema</span></code></a><a class="headerlink" href="#schema" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Schema'</span></code></p>
</dd>
</dl>
<p>Schema class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Schema" title="faust.Schema"><code class="xref py py-class docutils literal notranslate"><span class="pre">Schema</span></code></a> class to use as the default
schema type when no schema specified. or the fully-qualified
path to one (supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseSchema</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Schema</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Schema</span><span class="o">=</span><span class="n">MyBaseSchema</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Schema</span><span class="o">=</span><span class="s1">&#39;myproj.schemas.Schema&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="stream">
<span id="std-setting-Stream"></span><h3><a class="toc-backref" href="#id94" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Stream</span></code></a><a class="headerlink" href="#stream" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Stream'</span></code></p>
</dd>
</dl>
<p>Stream class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Stream" title="faust.Stream"><code class="xref py py-class docutils literal notranslate"><span class="pre">Stream</span></code></a> class to use for streams, or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseStream</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Stream</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Stream</span><span class="o">=</span><span class="n">MyBaseStream</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Stream</span><span class="o">=</span><span class="s1">&#39;myproj.streams.Stream&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="table">
<span id="std-setting-Table"></span><h3><a class="toc-backref" href="#id95" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Table</span></code></a><a class="headerlink" href="#table" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Table'</span></code></p>
</dd>
</dl>
<p>Table class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Table" title="faust.Table"><code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code></a> class to use for tables, or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseTable</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Table</span><span class="o">=</span><span class="n">MyBaseTable</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Table</span><span class="o">=</span><span class="s1">&#39;myproj.tables.Table&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="settable">
<span id="std-setting-SetTable"></span><h3><a class="toc-backref" href="#id96" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">SetTable</span></code></a><a class="headerlink" href="#settable" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:SetTable'</span></code></p>
</dd>
</dl>
<p>SetTable extension table.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.SetTable" title="faust.SetTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetTable</span></code></a> class to use for table-of-set tables,
or the fully-qualified path to one (supported
by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MySetTable</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">SetTable</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Table</span><span class="o">=</span><span class="n">MySetTable</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Table</span><span class="o">=</span><span class="s1">&#39;myproj.tables.MySetTable&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="globaltable">
<span id="std-setting-GlobalTable"></span><h3><a class="toc-backref" href="#id97" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">GlobalTable</span></code></a><a class="headerlink" href="#globaltable" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:GlobalTable'</span></code></p>
</dd>
</dl>
<p>GlobalTable class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.GlobalTable" title="faust.GlobalTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">GlobalTable</span></code></a> class to use for tables,
or the fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseGlobalTable</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">GlobalTable</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">GlobalTable</span><span class="o">=</span><span class="n">MyBaseGlobalTable</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">GlobalTable</span><span class="o">=</span><span class="s1">&#39;myproj.tables.GlobalTable&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="setglobaltable">
<span id="std-setting-SetGlobalTable"></span><h3><a class="toc-backref" href="#id98" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">SetGlobalTable</span></code></a><a class="headerlink" href="#setglobaltable" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:SetGlobalTable'</span></code></p>
</dd>
</dl>
<p>SetGlobalTable class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.SetGlobalTable" title="faust.SetGlobalTable"><code class="xref py py-class docutils literal notranslate"><span class="pre">SetGlobalTable</span></code></a> class to use for tables, or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyBaseSetGlobalTable</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">SetGlobalTable</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">SetGlobalTable</span><span class="o">=</span><span class="n">MyBaseGlobalSetTable</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">SetGlobalTable</span><span class="o">=</span><span class="s1">&#39;myproj.tables.SetGlobalTable&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="tablemanager">
<span id="std-setting-TableManager"></span><h3><a class="toc-backref" href="#id99" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">TableManager</span></code></a><a class="headerlink" href="#tablemanager" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.tables:TableManager'</span></code></p>
</dd>
</dl>
<p>Table manager class type.</p>
<p>The <a class="reference internal" href="../reference/faust.tables.html#faust.tables.TableManager" title="faust.tables.TableManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">TableManager</span></code></a> used for managing tables,
or the fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">faust.tables</span> <span class="k">import</span> <span class="n">TableManager</span>

<span class="k">class</span> <span class="nc">MyTableManager</span><span class="p">(</span><span class="n">TableManager</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">TableManager</span><span class="o">=</span><span class="n">MyTableManager</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">TableManager</span><span class="o">=</span><span class="s1">&#39;myproj.tables.TableManager&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="serializers">
<span id="std-setting-Serializers"></span><h3><a class="toc-backref" href="#id100" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Serializers</span></code></a><a class="headerlink" href="#serializers" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.serializers:Registry'</span></code></p>
</dd>
</dl>
<p>Serializer registry class type.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Registry</span></code> class used for
serializing/deserializing messages; or the fully-qualified path
to one (supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">faust.serialiers</span> <span class="k">import</span> <span class="n">Registry</span>

<span class="k">class</span> <span class="nc">MyRegistry</span><span class="p">(</span><span class="n">Registry</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Serializers</span><span class="o">=</span><span class="n">MyRegistry</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Serializers</span><span class="o">=</span><span class="s1">&#39;myproj.serializers.Registry&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="worker">
<span id="std-setting-Worker"></span><h3><a class="toc-backref" href="#id101" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Worker</span></code></a><a class="headerlink" href="#worker" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.worker:Worker'</span></code></p>
</dd>
</dl>
<p>Worker class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Worker" title="faust.Worker"><code class="xref py py-class docutils literal notranslate"><span class="pre">Worker</span></code></a> class used for starting a worker
for this app; or the fully-qualified path
to one (supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">faust</span>

<span class="k">class</span> <span class="nc">MyWorker</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Worker</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Worker</span><span class="o">=</span><span class="n">Worker</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Worker</span><span class="o">=</span><span class="s1">&#39;myproj.workers.Worker&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="partitionassignor">
<span id="std-setting-PartitionAssignor"></span><h3><a class="toc-backref" href="#id102" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">PartitionAssignor</span></code></a><a class="headerlink" href="#partitionassignor" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.assignor:PartitionAssignor'</span></code></p>
</dd>
</dl>
<p>Partition assignor class type.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">PartitionAssignor</span></code> class used for assigning
topic partitions to worker instances; or the fully-qualified path
to one (supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">faust.assignor</span> <span class="k">import</span> <span class="n">PartitionAssignor</span>

<span class="k">class</span> <span class="nc">MyPartitionAssignor</span><span class="p">(</span><span class="n">PartitionAssignor</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">PartitionAssignor</span><span class="o">=</span><span class="n">PartitionAssignor</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Worker</span><span class="o">=</span><span class="s1">&#39;myproj.assignor.PartitionAssignor&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="leaderassignor">
<span id="std-setting-LeaderAssignor"></span><h3><a class="toc-backref" href="#id103" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">LeaderAssignor</span></code></a><a class="headerlink" href="#leaderassignor" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.assignor:LeaderAssignor'</span></code></p>
</dd>
</dl>
<p>Leader assignor class type.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">LeaderAssignor</span></code> class used for assigning
a master Faust instance for the app; or the fully-qualified path
to one (supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">faust.assignor</span> <span class="k">import</span> <span class="n">LeaderAssignor</span>

<span class="k">class</span> <span class="nc">MyLeaderAssignor</span><span class="p">(</span><span class="n">LeaderAssignor</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">LeaderAssignor</span><span class="o">=</span><span class="n">LeaderAssignor</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Worker</span><span class="o">=</span><span class="s1">&#39;myproj.assignor.LeaderAssignor&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="router">
<span id="std-setting-Router"></span><h3><a class="toc-backref" href="#id104" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Router</span></code></a><a class="headerlink" href="#router" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.app.router:Router'</span></code></p>
</dd>
</dl>
<p>Router class type.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">Router</span></code> class used for routing requests
to a worker instance having the partition for a specific
key (e.g. table key); or the fully-qualified path to one
(supported by <a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">faust.router</span> <span class="k">import</span> <span class="n">Router</span>

<span class="k">class</span> <span class="nc">MyRouter</span><span class="p">(</span><span class="n">Router</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Router</span><span class="o">=</span><span class="n">Router</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Router</span><span class="o">=</span><span class="s1">&#39;myproj.routers.Router&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="topic">
<span id="std-setting-Topic"></span><h3><a class="toc-backref" href="#id105" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Topic</span></code></a><a class="headerlink" href="#topic" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust:Topic'</span></code></p>
</dd>
</dl>
<p>Topic class type.</p>
<p>The <a class="reference internal" href="../reference/faust.html#faust.Topic" title="faust.Topic"><code class="xref py py-class docutils literal notranslate"><span class="pre">Topic</span></code></a> class used for defining new topics; or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">faust</span>

<span class="k">class</span> <span class="nc">MyTopic</span><span class="p">(</span><span class="n">faust</span><span class="o">.</span><span class="n">Topic</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Topic</span><span class="o">=</span><span class="n">MyTopic</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Topic</span><span class="o">=</span><span class="s1">&#39;myproj.topics.Topic&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="httpclient">
<span id="std-setting-HttpClient"></span><h3><a class="toc-backref" href="#id106" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">HttpClient</span></code></a><a class="headerlink" href="#httpclient" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'aiohttp.client:ClientSession'</span></code></p>
</dd>
</dl>
<p>Http client class type</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">aiohttp.client.ClientSession</span></code> class used as
a HTTP client; or the fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">faust</span>
<span class="kn">from</span> <span class="nn">aiohttp.client</span> <span class="k">import</span> <span class="n">ClientSession</span>

<span class="k">class</span> <span class="nc">HttpClient</span><span class="p">(</span><span class="n">ClientSession</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">HttpClient</span><span class="o">=</span><span class="n">HttpClient</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">HttpClient</span><span class="o">=</span><span class="s1">&#39;myproj.http.HttpClient&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="monitor">
<span id="std-setting-Monitor"></span><h3><a class="toc-backref" href="#id107" role="doc-backlink"><code class="docutils literal notranslate"><span class="pre">Monitor</span></code></a><a class="headerlink" href="#monitor" title="Permalink to this heading">Â¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/dev/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> / <a class="reference external" href="https://docs.python.org/dev/library/typing.html#typing.Type" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Type</span></code></a></p>
</dd>
<dt class="field-even">default<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">'faust.sensors:Monitor'</span></code></p>
</dd>
</dl>
<p>Monitor sensor class type.</p>
<p>The <a class="reference internal" href="../reference/faust.sensors.html#faust.sensors.Monitor" title="faust.sensors.Monitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Monitor</span></code></a> class as the main sensor
gathering statistics for the application; or the
fully-qualified path to one (supported by
<a class="reference external" href="https://mode.readthedocs.io/en/latest/reference/mode.utils.imports.html#mode.utils.imports.symbol_by_name" title="(in Mode v4.3)"><code class="xref py py-func docutils literal notranslate"><span class="pre">symbol_by_name()</span></code></a>).</p>
<p>Example using a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">faust</span>
<span class="kn">from</span> <span class="nn">faust.sensors</span> <span class="k">import</span> <span class="n">Monitor</span>

<span class="k">class</span> <span class="nc">MyMonitor</span><span class="p">(</span><span class="n">Monitor</span><span class="p">):</span>
    <span class="o">...</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Monitor</span><span class="o">=</span><span class="n">MyMonitor</span><span class="p">)</span>
</pre></div>
</div>
<p>Example using the string path to a class:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">faust</span><span class="o">.</span><span class="n">App</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">Monitor</span><span class="o">=</span><span class="s1">&#39;myproj.monitors.Monitor&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../index.html">Faust</a></h1>



<p class="blurb">A library for building streaming applications in Python.</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=robinhood&repo=faust&type=star&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/robinhood/faust">
    <img
        alt="https://secure.travis-ci.org/robinhood/faust.svg?branch=master"
        src="https://secure.travis-ci.org/robinhood/faust.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../copyright.html">Copyright</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introducing Faust</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../playbooks/index.html">Playbooks</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="application.html">The App - Define your Faust project</a></li>
<li class="toctree-l2"><a class="reference internal" href="agents.html">Agents - Self-organizing Stream Processors</a></li>
<li class="toctree-l2"><a class="reference internal" href="streams.html">Streams - Infinite Data Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="channels.html">Channels &amp; Topics - Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models, Serialization, and Codecs</a></li>
<li class="toctree-l2"><a class="reference internal" href="tables.html">Tables and Windowing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tasks.html">Tasks, Timers, Cron Jobs, Web Views, and CLI Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">Command-line Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="sensors.html">Sensors - Monitors and Statistics</a></li>
<li class="toctree-l2"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="livecheck.html">LiveCheck: End-to-end test for production/staging.</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">Kafka - The basics you need to know</a></li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="workers.html">Workers Guide</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently Asked Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developerguide/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history/index.html">History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">User Guide</a><ul>
      <li>Previous: <a href="livecheck.html" title="previous chapter">LiveCheck: End-to-end test for production/staging.</a></li>
      <li>Next: <a href="installation.html" title="next chapter">Installation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017-2020, 2021-2022 Community, Robinhood Markets, Inc..
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.1.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/userguide/settings.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/robinhood/faust" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>